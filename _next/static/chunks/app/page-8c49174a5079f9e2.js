(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{67:function(){},2061:function(){},9034:function(e,t,s){Promise.resolve().then(s.bind(s,9198))},9198:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return et}});var a=s(7437),n=s(9115),r=s(4810);let i=(0,n.U)()((0,r.tJ)((e,t)=>({students:[],currentIndex:0,isActive:!1,isPaused:!1,startTime:null,endTime:null,setStudents:t=>e({students:t,currentIndex:0}),setCurrentIndex:t=>e({currentIndex:t}),markAttendance:(t,s)=>e(e=>({students:e.students.map((e,a)=>a===t?{...e,status:s}:e)})),nextStudent:()=>e(e=>({currentIndex:Math.min(e.currentIndex+1,e.students.length-1)})),previousStudent:()=>e(e=>({currentIndex:Math.max(e.currentIndex-1,0)})),startSession:()=>e({isActive:!0,isPaused:!1,startTime:new Date,endTime:null}),pauseSession:()=>e({isPaused:!0}),resumeSession:()=>e({isPaused:!1}),endSession:()=>e({isActive:!1,isPaused:!1,endTime:new Date}),resetSession:()=>e({students:[],currentIndex:0,isActive:!1,isPaused:!1,startTime:null,endTime:null}),getStats:()=>{let{students:e}=t(),s=e.length,a=e.filter(e=>"present"===e.status).length,n=e.filter(e=>"absent"===e.status).length,r=e.filter(e=>!e.status).length;return{total:s,present:a,absent:n,pending:r}}}),{name:"attendance-session",partialize:e=>({students:e.students,currentIndex:e.currentIndex,startTime:e.startTime})}));var l=s(2265),c=s(5020),o=s(2187),d=s(8063),x=s(7542),u=s(1541),m=s(7504);let h=e=>new Promise((t,s)=>{let a=new FileReader;a.onload=e=>{try{var a;let s=new Uint8Array(null===(a=e.target)||void 0===a?void 0:a.result),n=m.ij(s,{type:"array"}),r=n.Sheets[n.SheetNames[0]],i=m.P6.sheet_to_json(r,{header:1}),l=[],c=i.length>0&&"string"==typeof i[0][0]&&isNaN(Number(i[0][0]))?1:0;for(let e=c;e<i.length;e++){let t=i[e];t&&t[0]&&l.push({regNo:String(t[0]).trim(),name:t[1]?String(t[1]).trim():void 0,status:null})}t(l)}catch(e){s(Error("Failed to parse Excel file"))}},a.onerror=()=>s(Error("Failed to read file")),a.readAsArrayBuffer(e)}),p=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"attendance",s=[["Registration Number","Name","Status"],...e.map(e=>[e.regNo,e.name||"",e.status?"present"===e.status?"Present":"Absent":"Not Marked"])],a=m.P6.aoa_to_sheet(s);a["!cols"]=[{width:20},{width:25},{width:15}];let n=m.P6.decode_range(a["!ref"]||"A1");for(let e=1;e<=n.e.r;e++){let t="C".concat(e+1),s=a[t];s&&s.v&&("Present"===s.v?s.s={fill:{fgColor:{rgb:"D4F6D4"}},font:{color:{rgb:"166534"}}}:"Absent"===s.v&&(s.s={fill:{fgColor:{rgb:"FED7D7"}},font:{color:{rgb:"DC2626"}}}))}let r=m.P6.book_new();m.P6.book_append_sheet(r,a,"Attendance");let i=new Date().toISOString().slice(0,19).replace(/:/g,"-");m.NC(r,"".concat(t,"_").concat(i,".xlsx"))};var g=s(1424);function f(){let e=i(e=>e.setStudents),t=(0,l.useCallback)(async t=>{let s=t[0];if(s)try{let t=await h(s);if(0===t.length){g.Am.error("No valid student data found in the file");return}e(t),g.Am.success("Successfully loaded ".concat(t.length," students"))}catch(e){g.Am.error("Failed to parse file. Please check the format."),console.error(e)}},[e]),{getRootProps:s,getInputProps:n,isDragActive:r,isDragReject:m}=(0,c.uI)({onDrop:t,accept:{"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[".xlsx"],"application/vnd.ms-excel":[".xls"],"text/csv":[".csv"]},multiple:!1});return(0,a.jsxs)(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-2xl mx-auto",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Classroom Attendance"}),(0,a.jsx)("p",{className:"text-lg text-gray-600",children:"Upload your student list to begin automated attendance tracking"})]}),(0,a.jsx)(o.E.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"\n          relative border-2 border-dashed rounded-xl p-12 text-center cursor-pointer\n          transition-all duration-300 ease-in-out\n          ".concat(r&&!m?"border-blue-400 bg-blue-50":m?"border-red-400 bg-red-50":"border-gray-300 bg-gray-50 hover:border-gray-400 hover:bg-gray-100","\n        "),children:(0,a.jsxs)("div",{...s(),className:"w-full h-full",children:[(0,a.jsx)("input",{...n()}),(0,a.jsxs)(o.E.div,{initial:{scale:.8},animate:{scale:1},transition:{delay:.2,duration:.3},className:"space-y-4",children:[m?(0,a.jsx)(d.Z,{className:"mx-auto h-16 w-16 text-red-500"}):(0,a.jsx)(x.Z,{className:"mx-auto h-16 w-16 text-blue-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:r?m?"File type not supported":"Drop the file here":"Upload Student List"}),!r&&(0,a.jsx)("p",{className:"text-gray-600",children:"Drag and drop your Excel file here, or click to browse"})]}),!r&&(0,a.jsxs)(o.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:[(0,a.jsx)(u.Z,{className:"mr-2 h-5 w-5"}),"Choose File"]})]})]})}),(0,a.jsxs)("div",{className:"mt-8 text-center text-sm text-gray-500",children:[(0,a.jsx)("p",{className:"mb-2",children:"Supported formats: Excel (.xlsx, .xls) and CSV (.csv)"}),(0,a.jsx)("p",{children:"Expected format: Registration Number in first column, optional Name in second column"})]})]})}var b=s(1393),y=s(4900),v=s(3101),j=s(4149),N=s(8119),w=s(4530),S=s(1243);let k=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];(0,l.useEffect)(()=>{if(!t)return;let s=t=>{var s,a,n,r,i,l;switch(t.key){case"Enter":t.preventDefault(),null===(s=e.onEnter)||void 0===s||s.call(e);break;case"Shift":t.preventDefault(),null===(a=e.onShift)||void 0===a||a.call(e);break;case"Escape":t.preventDefault(),null===(n=e.onEscape)||void 0===n||n.call(e);break;case" ":t.preventDefault(),null===(r=e.onSpace)||void 0===r||r.call(e);break;case"ArrowLeft":t.preventDefault(),null===(i=e.onArrowLeft)||void 0===i||i.call(e);break;case"ArrowRight":t.preventDefault(),null===(l=e.onArrowRight)||void 0===l||l.call(e)}};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[e,t])};var E=s(5432);class C{loadVoices(){let e=this.synthesis.getVoices();this.voice=e.find(e=>e.lang.startsWith("en"))||e[0]||null,0===e.length&&this.synthesis.addEventListener("voiceschanged",()=>{let e=this.synthesis.getVoices();this.voice=e.find(e=>e.lang.startsWith("en"))||e[0]||null})}speak(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((s,a)=>{this.synthesis.cancel();let n=new SpeechSynthesisUtterance(e);this.voice&&(n.voice=this.voice),n.rate=t.rate||1,n.pitch=t.pitch||1,n.volume=t.volume||1,n.onend=()=>s(),n.onerror=e=>a(e),this.synthesis.speak(n)})}stop(){this.synthesis.cancel()}pause(){this.synthesis.pause()}resume(){this.synthesis.resume()}getVoices(){return this.synthesis.getVoices()}setVoice(e){this.voice=e}constructor(){this.voice=null,this.synthesis=window.speechSynthesis,this.loadVoices()}}var A=s(4949),P=s(9213),D=s(7042),T=s(4769);function I(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,T.m6)((0,D.W)(t))}let R=(0,P.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Z=l.forwardRef((e,t)=>{let{className:s,variant:n,size:r,asChild:i=!1,...l}=e,c=i?A.g7:"button";return(0,a.jsx)(c,{className:I(R({variant:n,size:r,className:s})),ref:t,...l})});Z.displayName="Button";let _=l.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("div",{ref:t,className:I("rounded-lg border bg-card text-card-foreground shadow-sm",s),...n})});_.displayName="Card";let z=l.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("div",{ref:t,className:I("flex flex-col space-y-1.5 p-6",s),...n})});z.displayName="CardHeader";let L=l.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("h3",{ref:t,className:I("text-2xl font-semibold leading-none tracking-tight",s),...n})});L.displayName="CardTitle";let M=l.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("p",{ref:t,className:I("text-sm text-muted-foreground",s),...n})});M.displayName="CardDescription";let F=l.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("div",{ref:t,className:I("p-6 pt-0",s),...n})});F.displayName="CardContent";let V=l.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("div",{ref:t,className:I("flex items-center p-6 pt-0",s),...n})});function O(){let{students:e,currentIndex:t,isActive:s,isPaused:n,startSession:r,endSession:c,nextStudent:d,previousStudent:x,markAttendance:u,setCurrentIndex:m,resetSession:h}=i(),[p,g]=(0,l.useState)(!1),[f,A]=(0,l.useState)(0),[P,D]=(0,l.useState)(null),T=()=>{P&&P.stop(),g(!1),A(0),c()};(0,l.useEffect)(()=>{D(new C)},[]);let I=e[t],R=(0,l.useMemo)(()=>e.length>0&&e.every(e=>e.status),[e]);k({onEnter:()=>!R&&z("present"),onShift:()=>!R&&z("absent"),onEscape:()=>s?T:null,onArrowLeft:()=>!R&&x(),onArrowRight:()=>!R&&d(),onSpace:()=>!R&&L()});let z=async s=>{I&&!I.status&&(u(t,s),A(0),setTimeout(()=>{let s=e.findIndex((e,s)=>s>t&&!e.status);-1===s&&(s=e.findIndex((e,s)=>s<t&&!e.status)),-1!==s?m(s):c()},800))},L=async()=>{if(I&&!p&&P){g(!0);try{let e="Registration number ".concat(I.regNo);await P.speak(e,{rate:.9}),A(e=>e+1)}catch(e){console.error("TTS Error:",e)}finally{g(!1)}}};return((0,l.useEffect)(()=>{if(s&&!n&&I&&!I.status&&P){let e=setTimeout(()=>{L()},500);return()=>clearTimeout(e)}},[t,s,n,P]),(0,l.useEffect)(()=>{if(!s||n||!I||I.status||p||!P)return;let e=setTimeout(()=>{f<3?L():z("absent")},4e3);return()=>clearTimeout(e)},[f,s,n,p,P]),(0,l.useEffect)(()=>{if(!s||!(null==I?void 0:I.status))return;let a=setTimeout(()=>{let s=e.findIndex((e,s)=>s>t&&!e.status);-1===s&&(s=e.findIndex((e,s)=>s<t&&!e.status)),-1!==s&&m(s)},1e3);return()=>clearTimeout(a)},[null==I?void 0:I.status,s,t,e]),0===e.length)?null:(0,a.jsxs)(o.E.div,{initial:{opacity:0},animate:{opacity:1},className:"max-w-4xl mx-auto space-y-8",children:[(0,a.jsx)(_,{children:(0,a.jsx)(F,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{className:"flex items-center space-x-4",children:s?(0,a.jsxs)(Z,{onClick:T,size:"lg",variant:"outline",children:[(0,a.jsx)(v.Z,{className:"mr-2 h-5 w-5"}),"Pause Session"]}):(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)(Z,{onClick:r,size:"lg",className:"bg-green-600 hover:bg-green-700",children:[(0,a.jsx)(y.Z,{className:"mr-2 h-5 w-5"}),"Start Session"]}),(0,a.jsxs)(Z,{onClick:()=>{window.confirm("Are you sure you want to reset the session? All progress will be lost.")&&h()},size:"lg",variant:"destructive",disabled:s,children:[(0,a.jsx)(E.Z,{className:"mr-2 h-5 w-5"}),"Reset Session"]})]})}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Student ",t+1," of ",e.length]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,a.jsx)(Z,{size:"sm",variant:"outline",onClick:x,disabled:0===t,children:(0,a.jsx)(j.Z,{className:"h-4 w-4"})}),(0,a.jsx)(Z,{size:"sm",variant:"outline",onClick:d,disabled:t===e.length-1,children:(0,a.jsx)(N.Z,{className:"h-4 w-4"})})]})]})]})})}),(0,a.jsx)(b.M,{mode:"wait",children:R?(0,a.jsx)(o.E.div,{initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:-20},transition:{duration:.4,type:"spring"},className:"text-center",children:(0,a.jsx)(_,{className:"relative overflow-hidden bg-gradient-to-br from-green-50 to-emerald-50 border-2 border-green-200",children:(0,a.jsx)(F,{className:"p-8",children:(0,a.jsxs)(o.E.div,{initial:{scale:.8},animate:{scale:1},transition:{duration:.5,type:"spring"},className:"space-y-4",children:[(0,a.jsx)(o.E.div,{initial:{rotate:0},animate:{rotate:360},transition:{duration:.8,ease:"easeOut"},className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-green-100 border-4 border-green-300",children:(0,a.jsx)(w.Z,{className:"h-10 w-10 text-green-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-3xl font-bold text-green-800 mb-2",children:"Attendance Completed!"}),(0,a.jsxs)("p",{className:"text-lg text-green-700",children:["All ",e.length," students have been marked"]}),(0,a.jsx)("p",{className:"text-lg text-orange-400 font-bold",children:"Don't forget to Download"})]}),(0,a.jsxs)(o.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"flex justify-center space-x-4 pt-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-800",children:e.filter(e=>"present"===e.status).length}),(0,a.jsx)("div",{className:"text-sm text-green-600",children:"Present"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-red-600",children:e.filter(e=>"absent"===e.status).length}),(0,a.jsx)("div",{className:"text-sm text-red-500",children:"Absent"})]})]})]})})})},"completed"):(0,a.jsx)(o.E.div,{initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:-20},transition:{duration:.4,type:"spring"},className:"text-center",children:(0,a.jsx)(_,{className:"relative overflow-hidden",children:(0,a.jsx)(F,{className:"p-12",children:(0,a.jsxs)(o.E.div,{animate:p?{scale:[1,1.05,1]}:{},transition:{duration:.6,repeat:p?1/0:0},className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-lg text-gray-600 mb-2",children:"Current Student"}),(0,a.jsx)("h2",{className:"text-6xl font-bold text-gray-900 tracking-tight",children:null==I?void 0:I.regNo}),(null==I?void 0:I.name)&&(0,a.jsx)("p",{className:"text-2xl text-gray-600 mt-4",children:I.name})]}),(0,a.jsx)(b.M,{children:(null==I?void 0:I.status)?(0,a.jsx)(o.E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"inline-flex items-center px-4 py-2 rounded-full text-lg font-medium ".concat("present"===I.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:"present"===I.status?"✓ Present":"✗ Absent"}):(0,a.jsxs)(o.E.div,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,a.jsx)(Z,{onClick:()=>z("present"),size:"lg",className:"bg-green-600 hover:bg-green-700 text-white px-8 py-4 text-lg",children:"Present (Enter)"}),(0,a.jsx)(Z,{onClick:()=>z("absent"),size:"lg",variant:"destructive",className:"px-8 py-4 text-lg",children:"Absent (Shift)"})]}),(0,a.jsxs)(Z,{onClick:L,variant:"outline",size:"lg",disabled:p,className:"px-6 py-3",children:[(0,a.jsx)(S.Z,{className:"mr-2 h-5 w-5"}),p?"Speaking...":"Repeat (Space)"]})]})}),f>0&&!(null==I?void 0:I.status)&&(0,a.jsxs)(o.E.p,{initial:{opacity:0},animate:{opacity:1},className:"text-sm text-orange-600",children:["Called ",f," time",f>1?"s":"",f>=3&&" - Auto-marking absent soon..."]})]})})})},t)}),s&&!R&&(0,a.jsx)(_,{className:"bg-gray-50",children:(0,a.jsx)(F,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex justify-center space-x-8 text-sm text-gray-600",children:[(0,a.jsxs)("span",{children:[(0,a.jsx)("kbd",{className:"px-2 py-1 bg-white rounded border",children:"Enter"})," Present"]}),(0,a.jsxs)("span",{children:[(0,a.jsx)("kbd",{className:"px-2 py-1 bg-white rounded border",children:"Shift"})," Absent"]}),(0,a.jsxs)("span",{children:[(0,a.jsx)("kbd",{className:"px-2 py-1 bg-white rounded border",children:"Space"})," Repeat"]}),(0,a.jsxs)("span",{children:[(0,a.jsx)("kbd",{className:"px-2 py-1 bg-white rounded border",children:"Esc"})," Pause"]}),(0,a.jsxs)("span",{children:[(0,a.jsx)("kbd",{className:"px-2 py-1 bg-white rounded border",children:"←/→"})," Navigate"]})]})})})]})}V.displayName="CardFooter";var U=s(9806),B=s(6141),H=s(734),W=s(1827);let J=l.forwardRef((e,t)=>{let{className:s,type:n,...r}=e;return(0,a.jsx)("input",{type:n,className:I("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...r})});function q(){let{students:e,markAttendance:t,endTime:s,isActive:n}=i(),[r,c]=(0,l.useState)(""),[d,x]=(0,l.useState)(!1),u=(0,l.useMemo)(()=>s||!n&&e.some(e=>e.status),[s,n,e]),m=(0,l.useMemo)(()=>{if(!r.trim())return e;let t=r.toLowerCase();return e.filter(e=>e.regNo.toLowerCase().includes(t)||e.name&&e.name.toLowerCase().includes(t))},[e,r]),h=(s,a)=>{if(!d)return;let n=m[s],r=e.findIndex(e=>e.regNo===n.regNo);-1!==r&&t(r,"present"===a?"absent":"present")};if(0===e.length)return null;let p=e=>{switch(e){case"present":return(0,a.jsx)(w.Z,{className:"h-5 w-5 text-green-600"});case"absent":return(0,a.jsx)(U.Z,{className:"h-5 w-5 text-red-600"});default:return(0,a.jsx)(B.Z,{className:"h-5 w-5 text-gray-400"})}},g=e=>{switch(e){case"present":return"Present";case"absent":return"Absent";default:return"Pending"}},f=e=>{let t="border-b border-gray-100 transition-all duration-300";return"present"===e?t+=" bg-green-50":"absent"===e?t+=" bg-red-50":t+=" hover:bg-gray-50",d&&e&&(t+=" hover:bg-opacity-70 cursor-pointer"),t};return(0,a.jsx)(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.5},className:"max-w-4xl mx-auto mt-8",children:(0,a.jsxs)(_,{children:[(0,a.jsxs)(z,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(L,{className:"text-2xl font-bold text-gray-900",children:"Live Attendance"}),u&&(0,a.jsxs)(Z,{onClick:()=>x(!d),variant:d?"default":"outline",size:"sm",className:"flex items-center space-x-2",children:[(0,a.jsx)(H.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:d?"Done Editing":"Edit Attendance"})]})]}),(0,a.jsxs)("div",{className:"relative mt-4",children:[(0,a.jsx)(W.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,a.jsx)(J,{type:"text",placeholder:"Search by registration number or name...",value:r,onChange:e=>c(e.target.value),className:"pl-10"})]}),d&&(0,a.jsx)("div",{className:"mt-2 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:(0,a.jsxs)("p",{className:"text-sm text-blue-700",children:[(0,a.jsx)("strong",{children:"Edit Mode:"})," Click on any status to toggle between Present and Absent"]})})]}),(0,a.jsxs)(F,{className:"p-0",children:[(0,a.jsx)("div",{className:"max-h-96 overflow-y-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-50 sticky top-0 z-10",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Registration No."}),(0,a.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"Name"}),(0,a.jsxs)("th",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-900",children:["Status ",d&&(0,a.jsx)("span",{className:"text-xs text-blue-600",children:"(Click to edit)"})]})]})}),(0,a.jsx)("tbody",{children:(0,a.jsx)(b.M,{children:m.length>0?m.map((e,t)=>(0,a.jsxs)(o.E.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*t,duration:.3},className:f(e.status),children:[(0,a.jsx)("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:e.regNo}),(0,a.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600",children:e.name||"-"}),(0,a.jsx)("td",{className:"px-6 py-4 text-center",children:(0,a.jsxs)(o.E.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.2},className:"flex items-center justify-center space-x-2 ".concat(d&&e.status?"cursor-pointer hover:scale-105 transition-transform":""),onClick:()=>h(t,e.status),children:[p(e.status),(0,a.jsx)("span",{className:"text-sm font-medium ".concat("present"===e.status?"text-green-700":"absent"===e.status?"text-red-700":"text-gray-500"),children:g(e.status)})]},e.status)})]},e.regNo)):(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:3,className:"px-6 py-8 text-center text-gray-500",children:r?"No students found matching your search.":"No students available."})})})})]})}),m.length>0&&r&&(0,a.jsxs)("div",{className:"px-6 py-3 bg-gray-50 border-t text-sm text-gray-600",children:["Showing ",m.length," of ",e.length," students"]})]})]})})}J.displayName="Input";var G=s(5750),K=s(2527),Q=s(3056),X=s(5817);let Y=e=>{let{value:t}=e;return(0,a.jsx)(o.E.span,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2,ease:"easeOut"},children:t},t)};function $(){let{students:e,isActive:t,endTime:s}=i(),n=(0,l.useMemo)(()=>{let t=e.length,s=e.filter(e=>"present"===e.status).length,a=e.filter(e=>"absent"===e.status).length,n=e.filter(e=>!e.status).length;return{total:t,present:s,absent:a,pending:n}},[e]);if(0===e.length)return null;let r=[{title:"Total Students",value:n.total,icon:G.Z,color:"text-blue-600",bgColor:"bg-blue-50"},{title:"Present",value:n.present,icon:K.Z,color:"text-green-600",bgColor:"bg-green-50"},{title:"Absent",value:n.absent,icon:Q.Z,color:"text-red-600",bgColor:"bg-red-50"},{title:"Pending",value:n.pending,icon:B.Z,color:"text-orange-600",bgColor:"bg-orange-50"}];return(0,a.jsxs)(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-4xl mx-auto space-y-6",children:[(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:r.map((e,t)=>(0,a.jsx)(o.E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.1*t,duration:.3},children:(0,a.jsx)(_,{children:(0,a.jsx)(F,{className:"p-6 ".concat(e.bgColor),children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(e.icon,{className:"h-8 w-8 ".concat(e.color)}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:e.title}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(0,a.jsx)(Y,{value:e.value})})]})]})})})},e.title))}),(s||!t&&n.present+n.absent>0)&&(0,a.jsx)(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:(0,a.jsxs)(_,{children:[(0,a.jsx)(z,{children:(0,a.jsx)(L,{className:"text-xl font-bold text-gray-900",children:"Export Results"})}),(0,a.jsx)(F,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-600",children:"Download the attendance report as an Excel file with color-coded status."}),s&&(0,a.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["Session completed at ",new Date(s).toLocaleTimeString()]})]}),(0,a.jsxs)(Z,{onClick:()=>{let t="attendance_".concat(new Date().toISOString().split("T")[0]);p(e,t)},size:"lg",className:"bg-green-600 hover:bg-green-700",children:[(0,a.jsx)(X.Z,{className:"mr-2 h-5 w-5"}),"Download Excel"]})]})})]})})]})}function ee(){return(0,a.jsxs)("footer",{className:"w-full text-center py-4 text-gray-500 text-sm",children:["\xa9 2025 Developed by"," ",(0,a.jsx)("a",{href:"https://github.com/Aarifshaik",target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-blue-600 hover:underline",children:"Aarif Shaik"})]})}function et(){let{students:e}=i();return(0,a.jsxs)("main",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:[(0,a.jsx)("div",{className:"container mx-auto px-4 py-8",children:0===e.length?(0,a.jsx)(f,{}):(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsx)(O,{}),(0,a.jsx)($,{}),(0,a.jsx)(q,{})]})}),(0,a.jsx)(g.x7,{position:"top-right",richColors:!0,closeButton:!0}),(0,a.jsx)(ee,{})]})}}},function(e){e.O(0,[425,534,971,864,744],function(){return e(e.s=9034)}),_N_E=e.O()}]);